dependencies {
    compile project(':sda-commons-server-dropwizard')
    compile 'io.swagger:swagger-jaxrs', {
        /**
         * swagger-jaxrs uses the following dependency:
         *
         *         <!-- built with jsr311 but compatible with jsr311 or jsr399 in runtime -->
         *         <dependency>
         *             <groupId>javax.ws.rs</groupId>
         *             <artifactId>jsr311-api</artifactId>
         *             <version>1.1.1</version>
         *         </dependency>
         *
         * It conflicts with our 'javax.ws.rs:javax.ws.rs-api' which was added for Java 11.
         */
        exclude group: 'javax.ws.rs', module: 'jsr311-api'
    }
    compile 'javax.ws.rs:javax.ws.rs-api'

    compile 'io.openapitools.hal:swagger-hal', {
        exclude group: 'io.swagger', module: 'swagger-jaxrs'
    }
    compile 'io.openapitools.jackson.dataformat:jackson-dataformat-hal'

    compile 'javax.xml.bind:jaxb-api'
    compile 'org.slf4j:slf4j-api'

    testCompile project(':sda-commons-server-testing')
    testCompile 'net.javacrumbs.json-unit:json-unit-assertj:2.2.0'
    testCompile 'com.github.java-json-tools:json-schema-validator'
}

test {
    // We need to disable this property, otherwise Jersey doesn't allow to set the Origin header
    systemProperty "sun.net.http.allowRestrictedHeaders", "true"
}
